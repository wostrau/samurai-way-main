"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[723],{4723:function(r,n,e){e.r(n),e.d(n,{default:function(){return O}});var t=e(364),s=e(5997),o=e(5671),i=e(3144),u=e(136),a=e(5716),l=e(2791),c=e(4374),f=e(885),g="Paginator_paginator__nDK9Q",p="Paginator_pageNumber__7O7BU",h="Paginator_selected__AxcpR",d=e(184),v=function(r){for(var n=r.portionSize||10,e=Math.ceil(r.totalUsersCount/r.pageSize),t=[],s=1;s<=e;s++)t.push(s);var o=Math.ceil(e/n),i=Math.ceil(r.currentPage/n),u=(0,l.useState)(i),a=(0,f.Z)(u,2),c=a[0],v=a[1],P=(c-1)*n+1,j=c*n;return(0,d.jsxs)("div",{className:g,children:[c>1&&(0,d.jsx)("button",{onClick:function(){v(c-1)},children:"PREV"}),t.filter((function(r){return r>=P&&r<=j})).map((function(n,e){return(0,d.jsx)("span",{className:r.currentPage===n?h:p,onClick:function(){return r.currentPageChange(n)},children:n},e)})),o>c&&(0,d.jsx)("button",{onClick:function(){v(c+1)},children:"NEXT"})]})},P=e(5987),j="Users_item__KD6rO",m=e(283),x=e(1523),w=["user"],b=function(r){var n=r.user,e=(0,P.Z)(r,w);return(0,d.jsxs)("div",{children:[(0,d.jsxs)("span",{children:[(0,d.jsx)("div",{className:j,children:(0,d.jsx)(x.OL,{to:"/profile/".concat(n.id),children:(0,d.jsx)("img",{src:n.photos.small?n.photos.small:m,alt:"usersAvatar"})})}),(0,d.jsx)("div",{children:n.followed?(0,d.jsx)("button",{disabled:e.followingInProgress.some((function(r){return r===n.id})),onClick:function(){return e.unfollowUser(n.id)},children:"Unfollow"}):(0,d.jsx)("button",{disabled:e.followingInProgress.some((function(r){return r===n.id})),onClick:function(){return e.followUser(n.id)},children:"Follow"})})]}),(0,d.jsx)("span",{children:(0,d.jsxs)("span",{children:[(0,d.jsx)("div",{children:n.name}),(0,d.jsx)("div",{children:n.id}),(0,d.jsx)("div",{children:n.status})]})})]})},y=function(r){(0,u.Z)(e,r);var n=(0,a.Z)(e);function e(){return(0,o.Z)(this,e),n.apply(this,arguments)}return(0,i.Z)(e,[{key:"componentDidMount",value:function(){var r=this.props;(0,r.getUsers)(r.currentPage,r.pageSize)}},{key:"currentPageChange",value:function(r){var n=this.props,e=n.getUsers,t=n.setCurrentPage,s=n.pageSize;t(r),e(r,s)}},{key:"render",value:function(){var r=this;return(0,d.jsx)(d.Fragment,{children:this.props.isFetching?(0,d.jsx)(c.p,{}):(0,d.jsxs)("div",{children:[(0,d.jsx)(v,{pageSize:this.props.pageSize,currentPage:this.props.currentPage,totalUsersCount:this.props.totalUsersCount,currentPageChange:this.currentPageChange.bind(this)}),(0,d.jsx)("div",{children:this.props.users.map((function(n){return(0,d.jsx)(b,{user:n,followingInProgress:r.props.followingInProgress,followUser:r.props.followUser,unfollowUser:r.props.unfollowUser},n.id)}))})]})})}}]),e}(l.Component),C=e(6536),U=e(7781),Z=function(r){return r.usersPage.users},_=function(r){return r.usersPage.pageSize},S=function(r){return r.usersPage.totalUsersCount},k=function(r){return r.usersPage.currentPage},I=function(r){return r.usersPage.isFetching},A=function(r){return r.usersPage.followingInProgress},O=(0,U.qC)((0,t.$j)((function(r){return{pageSize:_(r),totalUsersCount:S(r),users:Z(r),currentPage:k(r),isFetching:I(r),followingInProgress:A(r)}}),{setUsers:s.fv,setCurrentPage:s.Io,setTotalUsersCount:s.vm,toggleIsFetching:s.ZR,toggleFollowingInProgress:s.pS,getUsers:s.Zw,followUser:s.iH,unfollowUser:s.Lt}),C._)(y)},6536:function(r,n,e){e.d(n,{_:function(){return d}});var t=e(8683),s=e(5987),o=e(5671),i=e(3144),u=e(136),a=e(5716),l=e(2791),c=e(9271),f=e(364),g=e(184),p=["isAuth"],h=function(r){return{isAuth:r.auth.isAuth}};function d(r){var n=function(n){(0,u.Z)(l,n);var e=(0,a.Z)(l);function l(){return(0,o.Z)(this,l),e.apply(this,arguments)}return(0,i.Z)(l,[{key:"render",value:function(){var n=this.props,e=n.isAuth,o=(0,s.Z)(n,p);return e?(0,g.jsx)(r,(0,t.Z)({},o)):(0,g.jsx)(c.l_,{to:"/login"})}}]),l}(l.Component);return(0,f.$j)(h)(n)}},283:function(r,n,e){r.exports=e.p+"static/media/userAvatar2.bb9626e2e8405345b7cf.png"},5987:function(r,n,e){e.d(n,{Z:function(){return s}});var t=e(3366);function s(r,n){if(null==r)return{};var e,s,o=(0,t.Z)(r,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(s=0;s<i.length;s++)e=i[s],n.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(r,e)&&(o[e]=r[e])}return o}},885:function(r,n,e){e.d(n,{Z:function(){return s}});var t=e(181);function s(r,n){return function(r){if(Array.isArray(r))return r}(r)||function(r,n){var e=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=e){var t,s,o=[],i=!0,u=!1;try{for(e=e.call(r);!(i=(t=e.next()).done)&&(o.push(t.value),!n||o.length!==n);i=!0);}catch(a){u=!0,s=a}finally{try{i||null==e.return||e.return()}finally{if(u)throw s}}return o}}(r,n)||(0,t.Z)(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=723.95c4d4bf.chunk.js.map