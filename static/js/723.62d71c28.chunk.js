"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[723],{4723:function(r,e,n){n.r(e),n.d(e,{default:function(){return A}});var t=n(364),s=n(5997),o=n(5671),i=n(3144),u=n(136),a=n(5716),l=n(2791),c=n(4374),f=n(885),g="Paginator_paginator__nDK9Q",p="Paginator_pageNumber__7O7BU",h="Paginator_selected__AxcpR",d=n(184),v=function(r){for(var e=r.portionSize||10,n=Math.ceil(r.totalUsersCount/r.pageSize),t=[],s=1;s<=n;s++)t.push(s);var o=Math.ceil(n/e),i=Math.ceil(r.currentPage/e),u=(0,l.useState)(i),a=(0,f.Z)(u,2),c=a[0],v=a[1],P=(c-1)*e+1,j=c*e;return(0,d.jsxs)("div",{className:g,children:[c>1&&(0,d.jsx)("button",{onClick:function(){v(c-1)},children:"PREV"}),t.filter((function(r){return r>=P&&r<=j})).map((function(e,n){return(0,d.jsx)("span",{className:r.currentPage===e?h:p,onClick:function(){return r.currentPageChange(e)},children:e},n)})),o>c&&(0,d.jsx)("button",{onClick:function(){v(c+1)},children:"NEXT"})]})},P=n(5987),j="Users_item__KD6rO",m=n(283),w=n(1523),x=["user"],b=function(r){var e=r.user,n=(0,P.Z)(r,x);return(0,d.jsxs)("div",{children:[(0,d.jsxs)("span",{children:[(0,d.jsx)("div",{className:j,children:(0,d.jsx)(w.OL,{to:"/profile/".concat(e.id),children:(0,d.jsx)("img",{src:e.photos.small?e.photos.small:m,alt:"usersAvatar"})})}),(0,d.jsx)("div",{children:e.followed?(0,d.jsx)("button",{disabled:n.followingInProgress.some((function(r){return r===e.id})),onClick:function(){return n.unfollowUser(e.id)},children:"Unfollow"}):(0,d.jsx)("button",{disabled:n.followingInProgress.some((function(r){return r===e.id})),onClick:function(){return n.followUser(e.id)},children:"Follow"})})]}),(0,d.jsx)("span",{children:(0,d.jsxs)("span",{children:[(0,d.jsx)("div",{children:e.name}),(0,d.jsx)("div",{children:e.id}),(0,d.jsx)("div",{children:e.status})]})})]})},y=function(r){(0,u.Z)(n,r);var e=(0,a.Z)(n);function n(){return(0,o.Z)(this,n),e.apply(this,arguments)}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){var r=this.props;(0,r.getUsers)(r.currentPage,r.pageSize)}},{key:"currentPageChange",value:function(r){var e=this.props,n=e.getUsers,t=e.setCurrentPage,s=e.pageSize;t(r),n(r,s)}},{key:"render",value:function(){var r=this;return(0,d.jsx)(d.Fragment,{children:this.props.isFetching?(0,d.jsx)(c.p,{}):(0,d.jsxs)("div",{children:[(0,d.jsx)(v,{pageSize:this.props.pageSize,currentPage:this.props.currentPage,totalUsersCount:this.props.totalUsersCount,currentPageChange:this.currentPageChange.bind(this)}),(0,d.jsx)("div",{children:this.props.users.map((function(e){return(0,d.jsx)(b,{user:e,followingInProgress:r.props.followingInProgress,followUser:r.props.followUser,unfollowUser:r.props.unfollowUser},e.id)}))})]})})}}]),n}(l.Component),C=n(6536),U=n(7781),Z=function(r){return r.usersPage.users},_=function(r){return r.usersPage.pageSize},S=function(r){return r.usersPage.totalUsersCount},k=function(r){return r.usersPage.currentPage},z=function(r){return r.usersPage.isFetching},I=function(r){return r.usersPage.followingInProgress},A=(0,U.qC)((0,t.$j)((function(r){return{pageSize:_(r),totalUsersCount:S(r),users:Z(r),currentPage:k(r),isFetching:z(r),followingInProgress:I(r)}}),{setUsers:s.Yz.setUsers,setCurrentPage:s.Yz.setCurrentPage,setTotalUsersCount:s.Yz.setTotalUsersCount,toggleIsFetching:s.Yz.toggleIsFetching,toggleFollowingInProgress:s.Yz.toggleFollowingInProgress,getUsers:s.Zw,followUser:s.iH,unfollowUser:s.Lt}),C._)(y)},6536:function(r,e,n){n.d(e,{_:function(){return d}});var t=n(8683),s=n(5987),o=n(5671),i=n(3144),u=n(136),a=n(5716),l=n(2791),c=n(9271),f=n(364),g=n(184),p=["isAuth"],h=function(r){return{isAuth:r.auth.isAuth}};function d(r){var e=function(e){(0,u.Z)(l,e);var n=(0,a.Z)(l);function l(){return(0,o.Z)(this,l),n.apply(this,arguments)}return(0,i.Z)(l,[{key:"render",value:function(){var e=this.props,n=e.isAuth,o=(0,s.Z)(e,p);return n?(0,g.jsx)(r,(0,t.Z)({},o)):(0,g.jsx)(c.l_,{to:"/login"})}}]),l}(l.Component);return(0,f.$j)(h)(e)}},283:function(r,e,n){r.exports=n.p+"static/media/userAvatar2.bb9626e2e8405345b7cf.png"},5987:function(r,e,n){n.d(e,{Z:function(){return s}});var t=n(3366);function s(r,e){if(null==r)return{};var n,s,o=(0,t.Z)(r,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(s=0;s<i.length;s++)n=i[s],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(r,n)&&(o[n]=r[n])}return o}},885:function(r,e,n){n.d(e,{Z:function(){return s}});var t=n(181);function s(r,e){return function(r){if(Array.isArray(r))return r}(r)||function(r,e){var n=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=n){var t,s,o=[],i=!0,u=!1;try{for(n=n.call(r);!(i=(t=n.next()).done)&&(o.push(t.value),!e||o.length!==e);i=!0);}catch(a){u=!0,s=a}finally{try{i||null==n.return||n.return()}finally{if(u)throw s}}return o}}(r,e)||(0,t.Z)(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=723.62d71c28.chunk.js.map