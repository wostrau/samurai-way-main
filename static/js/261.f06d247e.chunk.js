"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[261],{3261:function(t,e,r){r.r(e),r.d(e,{default:function(){return D}});var n=r(8683),s=r(5671),o=r(3144),i=r(136),a=r(5716),u=r(2791),c=r(885),l="ProfileInfo_descriptionBlock__XBXuJ",d="ProfileInfo_mainPhoto__QU8TO",f=r(4374),h=r(283),p=r(184),m=function(t){var e=(0,u.useState)(!1),r=(0,c.Z)(e,2),n=r[0],s=r[1],o=(0,u.useState)(t.status),i=(0,c.Z)(o,2),a=i[0],l=i[1];(0,u.useEffect)((function(){return l(t.status)}),[t]);var d=function(){s(!1),t.updateUserStatus(a)};return(0,p.jsx)("div",{children:n?(0,p.jsx)("div",{children:(0,p.jsx)("input",{autoFocus:!0,value:a,onChange:function(t){return l(t.currentTarget.value)},onBlur:d,onKeyPress:function(t){return"Enter"===t.key&&d()}})}):(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Status: "}),(0,p.jsx)("span",{onDoubleClick:function(){return s(!0)},children:a||"NO STATUS"})]})})},v=function(t){var e=t.contactTitle,r=t.contactValue;return(0,p.jsxs)("div",{style:{paddingLeft:"10px"},children:[(0,p.jsxs)("b",{children:[e,": "]}),r]})},x=function(t){var e=t.isOwner,r=t.profile,n=t.activateEditMode;return(0,p.jsxs)("div",{children:[e&&(0,p.jsx)("div",{children:(0,p.jsx)("button",{onClick:n,children:"edit profile"})}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"fullName: "}),r.fullName]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"ID: "}),r.userId]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"About me: "}),r.aboutMe]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Open to work: "}),r.lookingForAJob?"yes":"not at the moment"]}),r.lookingForAJob&&(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"profSkills: "}),r.lookingForAJobDescription]}),r.contacts&&Object.entries(r.contacts).map((function(t){var e=(0,c.Z)(t,2),r=e[0],n=e[1];return(0,p.jsx)(v,{contactTitle:r,contactValue:n},r)}))]})},j=r(6854),b=r(6139),Z=r(704),g=r(9058),y=(0,Z.Z)({form:"edit-profile"})((function(t){var e=t.handleSubmit,r=t.contacts,n=t.error;return(0,p.jsxs)("form",{onSubmit:e,children:[(0,p.jsx)("div",{children:(0,p.jsx)("button",{children:"save"})}),n&&(0,p.jsx)("div",{className:g.Z.formSummaryError,children:n}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Full name"}),(0,p.jsx)(b.Z,{name:"fullName",placeholder:"Full name",component:j.I,validate:[]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"About me"}),(0,p.jsx)(b.Z,{name:"aboutMe",placeholder:"About me",component:j.g,validate:[]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Looking for a job"}),(0,p.jsx)(b.Z,{name:"lookingForAJob",component:j.I,type:"checkbox"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Skills"}),(0,p.jsx)(b.Z,{name:"lookingForAJobDescription",placeholder:"Professional skills",component:j.g,validate:[]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Contacts"}),r&&Object.entries(r).map((function(t){var e=(0,c.Z)(t,1)[0];return(0,p.jsxs)("div",{style:{paddingLeft:"10px"},children:[(0,p.jsxs)("b",{children:[e,": "]}),(0,p.jsx)(b.Z,{name:"contacts.".concat(e),placeholder:"".concat(e," url"),component:j.I})]},e)}))]})]})})),P=function(t){var e=t.isOwner,r=t.status,s=t.profile,o=t.updateUserStatus,i=t.savePhoto,a=t.saveProfile,v=(0,u.useState)(!1),j=(0,c.Z)(v,2),b=j[0],Z=j[1];if(!s)return(0,p.jsx)(f.p,{});return(0,p.jsx)("div",{children:(0,p.jsxs)("div",{className:l,children:[(0,p.jsx)("img",{className:d,style:{height:"200px"},src:s&&s.photos&&s.photos.large?s.photos.large:h,alt:"userAvatar"}),e&&(0,p.jsx)("input",{type:"file",onChange:function(t){t.currentTarget.files&&t.currentTarget.files.length&&i(t.currentTarget.files[0])}}),b?(0,p.jsx)(y,{initialValues:s,onSubmit:function(t){var e=(0,n.Z)((0,n.Z)({},s),t);a(e).then((function(){Z(!1)}))},contacts:s.contacts}):(0,p.jsx)(x,{profile:s,isOwner:e,activateEditMode:function(){return Z(!0)}}),(0,p.jsx)(m,{status:r,updateUserStatus:o})]})})},S=r(81),k=r(2982),_={item:"Post_item__Yu4oG"},A=function(t){return(0,p.jsxs)("div",{className:_.posts,children:[(0,p.jsxs)("div",{className:_.item,children:[(0,p.jsx)("img",{src:h,alt:"usersAvatar"}),t.message,(0,p.jsxs)("div",{children:["#likes: ",t.likesCount]})]}),(0,p.jsx)("button",{children:"LIKE"})]})},C="MyPosts_postsBlock__lB-pf",I="MyPosts_posts__GSiZ2",w=r(730),N=(0,Z.Z)({form:"addNewPostForm"})((function(t){return(0,p.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,p.jsx)("div",{children:(0,p.jsx)(b.Z,{name:"newPostText",component:j.g,placeholder:"add your post here",validate:[w.lp,w.cE,w.JE]})}),(0,p.jsx)("div",{children:(0,p.jsx)("button",{children:"Add post"})})]})})),U=u.memo((function(t){var e=(0,k.Z)(t.posts).reverse().map((function(t){return(0,p.jsx)(A,{message:t.message,likesCount:t.likesCount},t.id)}));return(0,p.jsxs)("div",{className:C,children:[(0,p.jsx)("h3",{children:"My posts"}),(0,p.jsx)(N,{onSubmit:function(e){return t.addPost(e.newPostText)}}),(0,p.jsx)("div",{className:I,children:e})]})})),E=r(364),T=(0,E.$j)((function(t){return{posts:t.profilePage.posts,profile:t.profilePage.profile,status:t.profilePage.status}}),(function(t){return{addPost:function(e){t(S.lk.addPost(e))}}}))(U),O=function(t){return(0,p.jsxs)("div",{children:[(0,p.jsx)(P,{isOwner:t.isOwner,status:t.status,profile:t.profile,updateUserStatus:t.updateUserStatus,savePhoto:t.savePhoto,saveProfile:t.saveProfile}),(0,p.jsx)(T,{})]})},F=r(9271),M=r(6536),J=r(7781),B=function(t){(0,i.Z)(r,t);var e=(0,a.Z)(r);function r(){return(0,s.Z)(this,r),e.apply(this,arguments)}return(0,o.Z)(r,[{key:"mountProfile",value:function(){var t=this.props.match.params.userId;t||(t=String(this.props.userId))||this.props.history.push("/login"),this.props.getUserProfile(Number(t)),this.props.getUserStatus(Number(t))}},{key:"componentDidMount",value:function(){this.mountProfile()}},{key:"componentDidUpdate",value:function(t){this.props.match.params.userId!==t.match.params.userId&&this.mountProfile()}},{key:"render",value:function(){return(0,p.jsx)(O,(0,n.Z)((0,n.Z)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))}}]),r}(u.Component),D=(0,J.qC)((0,E.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,userId:t.auth.userId,isAuth:t.auth.isAuth}}),{getUserProfile:S.et,getUserStatus:S.Tq,updateUserStatus:S.OL,savePhoto:S.Ju,saveProfile:S.Ii}),F.EN,M._)(B)},6854:function(t,e,r){r.d(e,{g:function(){return l},I:function(){return d}});var n=r(8683),s=r(5987),o=(r(2791),r(9058)),i=r(184),a=["input","meta"],u=["input","meta"],c=function(t){var e=t.meta,r=t.children,n=e.touched&&e.error;return(0,i.jsxs)("div",{className:n?"".concat(o.Z.formControl," ").concat(o.Z.error):"",children:[(0,i.jsx)("div",{children:r}),n&&(0,i.jsx)("span",{children:e.error})]})},l=function(t){var e=t.input,r=(t.meta,(0,s.Z)(t,a));return(0,i.jsx)(c,(0,n.Z)((0,n.Z)({},t),{},{children:(0,i.jsx)("textarea",(0,n.Z)((0,n.Z)({cols:30,rows:3},e),r))}))},d=function(t){var e=t.input,r=(t.meta,(0,s.Z)(t,u));return(0,i.jsx)(c,(0,n.Z)((0,n.Z)({},t),{},{children:(0,i.jsx)("input",(0,n.Z)((0,n.Z)({},e),r))}))}},6536:function(t,e,r){r.d(e,{_:function(){return m}});var n=r(8683),s=r(5987),o=r(5671),i=r(3144),a=r(136),u=r(5716),c=r(2791),l=r(9271),d=r(364),f=r(184),h=["isAuth"],p=function(t){return{isAuth:t.auth.isAuth}};function m(t){var e=function(e){(0,a.Z)(c,e);var r=(0,u.Z)(c);function c(){return(0,o.Z)(this,c),r.apply(this,arguments)}return(0,i.Z)(c,[{key:"render",value:function(){var e=this.props,r=e.isAuth,o=(0,s.Z)(e,h);return r?(0,f.jsx)(t,(0,n.Z)({},o)):(0,f.jsx)(l.l_,{to:"/login"})}}]),c}(c.Component);return(0,d.$j)(p)(e)}},730:function(t,e,r){r.d(e,{lp:function(){return o},cE:function(){return i},JE:function(){return a}});var n,s,o=function(t){if(!t)return"field is required"},i=(n=30,function(t){return t&&t.length>n?"Must be ".concat(n," characters or less"):void 0}),a=(s=2,function(t){return t&&t.length<s?"Must be ".concat(s," characters or more"):void 0})},9058:function(t,e){e.Z={formControl:"FormControls_formControl__Bze--",error:"FormControls_error__rGNdT",formSummaryError:"FormControls_formSummaryError__zOU5q"}},283:function(t,e,r){t.exports=r.p+"static/media/userAvatar2.bb9626e2e8405345b7cf.png"},885:function(t,e,r){r.d(e,{Z:function(){return s}});var n=r(181);function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,s,o=[],i=!0,a=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(o.push(n.value),!e||o.length!==e);i=!0);}catch(u){a=!0,s=u}finally{try{i||null==r.return||r.return()}finally{if(a)throw s}}return o}}(t,e)||(0,n.Z)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=261.f06d247e.chunk.js.map