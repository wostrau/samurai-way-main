"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[528],{8528:function(t,r,e){e.r(r),e.d(r,{default:function(){return B}});var n=e(8683),s=e(5671),u=e(3144),o=e(136),i=e(5716),a=e(2791),c="ProfileInfo_descriptionBlock__XBXuJ",l=e(4374),f=e(283),d=e(885),p=e(184),h=function(t){var r=(0,a.useState)(!1),e=(0,d.Z)(r,2),n=e[0],s=e[1],u=(0,a.useState)(t.status),o=(0,d.Z)(u,2),i=o[0],c=o[1];(0,a.useEffect)((function(){return c(t.status)}),[t]);var l=function(){s(!1),t.updateUserStatus(i)};return(0,p.jsx)("div",{children:n?(0,p.jsx)("div",{children:(0,p.jsx)("input",{autoFocus:!0,value:i,onChange:function(t){return c(t.currentTarget.value)},onBlur:l,onKeyPress:function(t){return"Enter"===t.key&&l()}})}):(0,p.jsx)("div",{children:(0,p.jsx)("span",{onDoubleClick:function(){return s(!0)},children:i||"NO STATUS"})})})},m=function(t){var r=t.status,e=t.profile,n=t.updateUserStatus;return e?(0,p.jsx)("div",{children:(0,p.jsxs)("div",{className:c,children:[(0,p.jsx)("img",{style:{height:"200px"},src:f,alt:"userAvatar"}),(0,p.jsx)("p",{children:e.fullName}),(0,p.jsx)("p",{children:e.userId}),(0,p.jsx)(h,{status:r,updateUserStatus:n})]})}):(0,p.jsx)(l.p,{})},v=e(81),x=e(2982),j={item:"Post_item__Yu4oG"},Z=function(t){return(0,p.jsxs)("div",{className:j.posts,children:[(0,p.jsxs)("div",{className:j.item,children:[(0,p.jsx)("img",{src:f,alt:"usersAvatar"}),t.message,(0,p.jsxs)("div",{children:["#likes: ",t.likesCount]})]}),(0,p.jsx)("button",{children:"LIKE"})]})},y="MyPosts_postsBlock__lB-pf",_="MyPosts_posts__GSiZ2",g=e(6139),S=e(704),b=e(730),P=e(6854),C=(0,S.Z)({form:"addNewPostForm"})((function(t){return(0,p.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,p.jsx)("div",{children:(0,p.jsx)(g.Z,{name:"newPostText",component:P.g,placeholder:"add your post here",validate:[b.lp,b.cE,b.JE]})}),(0,p.jsx)("div",{children:(0,p.jsx)("button",{children:"Add post"})})]})})),k=a.memo((function(t){var r=(0,x.Z)(t.posts).reverse().map((function(t){return(0,p.jsx)(Z,{message:t.message,likesCount:t.likesCount},t.id)}));return(0,p.jsxs)("div",{className:y,children:[(0,p.jsx)("h3",{children:"My posts"}),(0,p.jsx)(C,{onSubmit:function(r){return t.addPost(r.newPostText)}}),(0,p.jsx)("div",{className:_,children:r})]})})),U=e(364),A=(0,U.$j)((function(t){return{posts:t.profilePage.posts,profile:t.profilePage.profile,status:t.profilePage.status}}),(function(t){return{addPost:function(r){t((0,v.Pi)(r))}}}))(k),w=function(t){return(0,p.jsxs)("div",{children:[(0,p.jsx)(m,{status:t.status,profile:t.profile,updateUserStatus:t.updateUserStatus}),(0,p.jsx)(A,{})]})},E=e(9271),N=e(6536),I=e(7781),T=function(t){(0,o.Z)(e,t);var r=(0,i.Z)(e);function e(){return(0,s.Z)(this,e),r.apply(this,arguments)}return(0,u.Z)(e,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;t||(t=this.props.userId)||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getUserStatus(t)}},{key:"render",value:function(){return(0,p.jsx)(w,(0,n.Z)((0,n.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatus}))}}]),e}(a.Component),B=(0,I.qC)((0,U.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,userId:t.auth.userId,isAuth:t.auth.isAuth}}),{getUserProfile:v.et,getUserStatus:v.Tq,updateUserStatus:v.OL}),E.EN,N._)(T)},6854:function(t,r,e){e.d(r,{g:function(){return l},I:function(){return f}});var n=e(8683),s=e(5987),u=(e(2791),e(9058)),o=e(184),i=["input","meta"],a=["input","meta"],c=function(t){var r=t.meta,e=r.touched,n=r.error,s=t.children,i=e&&n;return(0,o.jsxs)("div",{className:i?"".concat(u.Z.formControl," ").concat(u.Z.error):"",children:[(0,o.jsx)("div",{children:s}),i&&(0,o.jsx)("span",{children:n})]})},l=function(t){var r=t.input,e=(t.meta,(0,s.Z)(t,i));return(0,o.jsx)(c,(0,n.Z)((0,n.Z)({},t),{},{children:(0,o.jsx)("textarea",(0,n.Z)((0,n.Z)({cols:30,rows:3},r),e))}))},f=function(t){var r=t.input,e=(t.meta,(0,s.Z)(t,a));return(0,o.jsx)(c,(0,n.Z)((0,n.Z)({},t),{},{children:(0,o.jsx)("input",(0,n.Z)((0,n.Z)({},r),e))}))}},6536:function(t,r,e){e.d(r,{_:function(){return m}});var n=e(8683),s=e(5987),u=e(5671),o=e(3144),i=e(136),a=e(5716),c=e(2791),l=e(9271),f=e(364),d=e(184),p=["isAuth"],h=function(t){return{isAuth:t.auth.isAuth}};function m(t){var r=function(r){(0,i.Z)(c,r);var e=(0,a.Z)(c);function c(){return(0,u.Z)(this,c),e.apply(this,arguments)}return(0,o.Z)(c,[{key:"render",value:function(){var r=this.props,e=r.isAuth,u=(0,s.Z)(r,p);return e?(0,d.jsx)(t,(0,n.Z)({},u)):(0,d.jsx)(l.l_,{to:"/login"})}}]),c}(c.Component);return(0,f.$j)(h)(r)}},730:function(t,r,e){e.d(r,{lp:function(){return u},cE:function(){return o},JE:function(){return i}});var n,s,u=function(t){if(!t)return"field is required"},o=(n=30,function(t){return t&&t.length>n?"Must be ".concat(n," characters or less"):void 0}),i=(s=2,function(t){return t&&t.length<s?"Must be ".concat(s," characters or more"):void 0})},9058:function(t,r){r.Z={formControl:"FormControls_formControl__Bze--",error:"FormControls_error__rGNdT",formSummaryError:"FormControls_formSummaryError__zOU5q"}},283:function(t,r,e){t.exports=e.p+"static/media/userAvatar2.bb9626e2e8405345b7cf.png"},885:function(t,r,e){e.d(r,{Z:function(){return s}});var n=e(181);function s(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){var e=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,s,u=[],o=!0,i=!1;try{for(e=e.call(t);!(o=(n=e.next()).done)&&(u.push(n.value),!r||u.length!==r);o=!0);}catch(a){i=!0,s=a}finally{try{o||null==e.return||e.return()}finally{if(i)throw s}}return u}}(t,r)||(0,n.Z)(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=528.3fa99946.chunk.js.map